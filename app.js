import { config } from "dotenv";
config({ path: "./.env" });

// module imports
import express from "express";
import cors from "cors";
import cookieParser from "cookie-parser";

// custom imports
import userRoutes from "./routes/user.js";
import transactionRoutes from "./routes/transaction.js";
import authRoutes from "./routes/auth.js";
import categoriesRoutes from "./routes/categories.js";
import globalErrorHandler from "./controllers/error.js";
import Transaction from './models/transaction.js';
import { faker } from "@faker-js/faker";

const app = express();

// required middlewares
app.use(
  cors({ origin: process.env.URL, credentials: true })
);
app.use(express.json());
app.use(express.urlencoded({ extended: true }));
app.use(cookieParser());

const categories = [
  "Food",
  "Transport",
  "Utilities",
  "Entertainment",
  "Health",
  "Other",
];
const titles = [
  "Groceries",
  "Bus Ticket",
  "Electric Bill",
  "Movie",
  "Doctor Visit",
  "Random Purchase",
];

// Routes
app.use("/api/v1/users", userRoutes);
app.use("/api/v1/transactions", transactionRoutes);
app.use("/api/v1/auth", authRoutes);
app.use("/api/v1/categories",categoriesRoutes);
app.use("/", (req, res) => res.send("ðŸŸ¢ Backend is alive! âœ…"));


// (async function(){
//   await Transaction.create([
//     {
//       id: "e9b14186d6644e6d9f950852",
//       date: "2025-05-10T09:31:00Z",
//       amount: 115,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T09:36:00Z",
//       updatedAt: "2025-05-10T10:04:00Z",
//       __v: 0,
//     },
//     {
//       id: "d48d99039a5843d8833d8fe9",
//       date: "2025-05-04T22:13:00Z",
//       amount: 4329,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T22:18:00Z",
//       updatedAt: "2025-05-05T00:06:00Z",
//       __v: 0,
//     },
//     {
//       id: "b2412e45a1df48468bb366a0",
//       date: "2025-05-11T03:50:00Z",
//       amount: 4631,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T03:55:00Z",
//       updatedAt: "2025-05-11T03:58:00Z",
//       __v: 0,
//     },
//     {
//       id: "9024f562fe8d4a6795dfde42",
//       date: "2025-05-06T13:23:00Z",
//       amount: 2510,
//       title: "donation",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T13:28:00Z",
//       updatedAt: "2025-05-06T15:06:00Z",
//       __v: 0,
//     },
//     {
//       id: "01f6449a4d0b409d9df1f7a6",
//       date: "2025-05-01T20:45:00Z",
//       amount: 4928,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T20:50:00Z",
//       updatedAt: "2025-05-01T21:01:00Z",
//       __v: 0,
//     },
//     {
//       id: "d20fe552527749779a64ef4a",
//       date: "2025-05-04T15:57:00Z",
//       amount: 621,
//       title: "miscellaneous",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T16:02:00Z",
//       updatedAt: "2025-05-04T17:11:00Z",
//       __v: 0,
//     },
//     {
//       id: "60aab98f15254869815e6d62",
//       date: "2025-05-02T23:55:00Z",
//       amount: 4240,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T00:00:00Z",
//       updatedAt: "2025-05-03T00:09:00Z",
//       __v: 0,
//     },
//     {
//       id: "bb9953b7097742b9b847c7bc",
//       date: "2025-05-11T17:20:00Z",
//       amount: 2156,
//       title: "restaurant",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T17:25:00Z",
//       updatedAt: "2025-05-11T18:37:00Z",
//       __v: 0,
//     },
//     {
//       id: "af9cf9e328b54532b39dd722",
//       date: "2025-05-03T22:13:00Z",
//       amount: 3160,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T22:18:00Z",
//       updatedAt: "2025-05-04T00:06:00Z",
//       __v: 0,
//     },
//     {
//       id: "5b9a0894113e453ba0a09d3c",
//       date: "2025-05-09T07:31:00Z",
//       amount: 843,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T07:36:00Z",
//       updatedAt: "2025-05-09T08:26:00Z",
//       __v: 0,
//     },
//     {
//       id: "f22bed31d3d943338de661cb",
//       date: "2025-05-02T07:03:00Z",
//       amount: 1368,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T07:08:00Z",
//       updatedAt: "2025-05-02T07:14:00Z",
//       __v: 0,
//     },
//     {
//       id: "83c47687cfa04103bb95b18c",
//       date: "2025-05-08T03:29:00Z",
//       amount: 2405,
//       title: "transport",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T03:34:00Z",
//       updatedAt: "2025-05-08T04:52:00Z",
//       __v: 0,
//     },
//     {
//       id: "ed583ec84b5b426faafb3314",
//       date: "2025-05-09T23:52:00Z",
//       amount: 800,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T23:57:00Z",
//       updatedAt: "2025-05-10T00:52:00Z",
//       __v: 0,
//     },
//     {
//       id: "064568e057fe40a8ab02d8e9",
//       date: "2025-05-10T21:57:00Z",
//       amount: 441,
//       title: "restaurant",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T22:02:00Z",
//       updatedAt: "2025-05-10T23:04:00Z",
//       __v: 0,
//     },
//     {
//       id: "2b3269676df146cb982fa04b",
//       date: "2025-05-06T01:58:00Z",
//       amount: 1204,
//       title: "yoga class",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T02:03:00Z",
//       updatedAt: "2025-05-06T03:05:00Z",
//       __v: 0,
//     },
//     {
//       id: "e09be8ca3a044e46a5b688e6",
//       date: "2025-05-05T23:02:00Z",
//       amount: 3542,
//       title: "snacks",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T23:07:00Z",
//       updatedAt: "2025-05-05T23:10:00Z",
//       __v: 0,
//     },
//     {
//       id: "aba0b0a8e56e400c8a79807f",
//       date: "2025-05-08T22:14:00Z",
//       amount: 860,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T22:19:00Z",
//       updatedAt: "2025-05-09T00:04:00Z",
//       __v: 0,
//     },
//     {
//       id: "9e3c4515a7254bdbabbd7176",
//       date: "2025-05-02T05:54:00Z",
//       amount: 3683,
//       title: "movie night",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T05:59:00Z",
//       updatedAt: "2025-05-02T07:21:00Z",
//       __v: 0,
//     },
//     {
//       id: "3e72b64341ee4dc0996fe508",
//       date: "2025-05-07T00:03:00Z",
//       amount: 2403,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T00:08:00Z",
//       updatedAt: "2025-05-07T00:12:00Z",
//       __v: 0,
//     },
//     {
//       id: "7b2696884cd049ada822771b",
//       date: "2025-05-07T02:40:00Z",
//       amount: 3596,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T02:45:00Z",
//       updatedAt: "2025-05-07T03:17:00Z",
//       __v: 0,
//     },
//     {
//       id: "d70a666929004e9c9cb091eb",
//       date: "2025-05-10T18:39:00Z",
//       amount: 3307,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T18:44:00Z",
//       updatedAt: "2025-05-10T19:52:00Z",
//       __v: 0,
//     },
//     {
//       id: "c324d5e5f5f34d02a92fd27f",
//       date: "2025-05-02T17:11:00Z",
//       amount: 1585,
//       title: "stationery",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T17:16:00Z",
//       updatedAt: "2025-05-02T17:27:00Z",
//       __v: 0,
//     },
//     {
//       id: "56888999a59c4444adf31ee9",
//       date: "2025-05-11T16:02:00Z",
//       amount: 1579,
//       title: "donation",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T16:07:00Z",
//       updatedAt: "2025-05-11T16:15:00Z",
//       __v: 0,
//     },
//     {
//       id: "b1bfff1208e3452aa67078c4",
//       date: "2025-05-02T09:07:00Z",
//       amount: 4491,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T09:12:00Z",
//       updatedAt: "2025-05-02T10:21:00Z",
//       __v: 0,
//     },
//     {
//       id: "1a764a6e12ef4fcead14ff01",
//       date: "2025-05-03T19:24:00Z",
//       amount: 4939,
//       title: "coffee",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T19:29:00Z",
//       updatedAt: "2025-05-03T20:46:00Z",
//       __v: 0,
//     },
//     {
//       id: "d69ac4c564694391923accdc",
//       date: "2025-05-07T20:22:00Z",
//       amount: 4668,
//       title: "stationery",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T20:27:00Z",
//       updatedAt: "2025-05-07T21:58:00Z",
//       __v: 0,
//     },
//     {
//       id: "e271ce0067ee4113820564ea",
//       date: "2025-05-01T15:16:00Z",
//       amount: 3114,
//       title: "checkup",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T15:21:00Z",
//       updatedAt: "2025-05-01T16:49:00Z",
//       __v: 0,
//     },
//     {
//       id: "275e86fcc836441188758e8e",
//       date: "2025-05-10T02:21:00Z",
//       amount: 2271,
//       title: "stationery",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T02:26:00Z",
//       updatedAt: "2025-05-10T02:40:00Z",
//       __v: 0,
//     },
//     {
//       id: "5365970481994d32b7fc2df7",
//       date: "2025-05-02T12:45:00Z",
//       amount: 314,
//       title: "streaming service",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T12:50:00Z",
//       updatedAt: "2025-05-02T14:23:00Z",
//       __v: 0,
//     },
//     {
//       id: "a19d9bcbdc224f4aa904aa40",
//       date: "2025-05-08T19:30:00Z",
//       amount: 2603,
//       title: "stationery",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T19:35:00Z",
//       updatedAt: "2025-05-08T21:15:00Z",
//       __v: 0,
//     },
//     {
//       id: "86d0536c9d0046f1a34fa945",
//       date: "2025-05-02T10:30:00Z",
//       amount: 645,
//       title: "transport",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T10:35:00Z",
//       updatedAt: "2025-05-02T11:49:00Z",
//       __v: 0,
//     },
//     {
//       id: "a1808a964fb34cb9bb52e512",
//       date: "2025-05-05T10:27:00Z",
//       amount: 4532,
//       title: "yoga class",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T10:32:00Z",
//       updatedAt: "2025-05-05T11:29:00Z",
//       __v: 0,
//     },
//     {
//       id: "3c86ddfd7b83462d82a0c420",
//       date: "2025-05-06T13:19:00Z",
//       amount: 1452,
//       title: "stationery",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T13:24:00Z",
//       updatedAt: "2025-05-06T14:10:00Z",
//       __v: 0,
//     },
//     {
//       id: "2926fd4bdee848168d3fede7",
//       date: "2025-05-10T05:14:00Z",
//       amount: 2002,
//       title: "game subscription",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T05:19:00Z",
//       updatedAt: "2025-05-10T06:17:00Z",
//       __v: 0,
//     },
//     {
//       id: "0cb46cdfd08a4df5824323c5",
//       date: "2025-05-01T10:30:00Z",
//       amount: 308,
//       title: "movie night",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T10:35:00Z",
//       updatedAt: "2025-05-01T11:56:00Z",
//       __v: 0,
//     },
//     {
//       id: "ccd4d593250b4b1db70282ad",
//       date: "2025-05-04T17:45:00Z",
//       amount: 3821,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T17:50:00Z",
//       updatedAt: "2025-05-04T18:05:00Z",
//       __v: 0,
//     },
//     {
//       id: "f64aec2f3b874560a7de04a4",
//       date: "2025-05-03T15:52:00Z",
//       amount: 4870,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T15:57:00Z",
//       updatedAt: "2025-05-03T16:25:00Z",
//       __v: 0,
//     },
//     {
//       id: "882ff0a7d31c410886adcfe1",
//       date: "2025-05-05T22:26:00Z",
//       amount: 1805,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T22:31:00Z",
//       updatedAt: "2025-05-06T00:19:00Z",
//       __v: 0,
//     },
//     {
//       id: "24c2c003205548eca3a774fd",
//       date: "2025-05-08T23:54:00Z",
//       amount: 1003,
//       title: "gift",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T23:59:00Z",
//       updatedAt: "2025-05-09T01:55:00Z",
//       __v: 0,
//     },
//     {
//       id: "542cfb6e4063400fbfe0f036",
//       date: "2025-05-01T00:11:00Z",
//       amount: 1632,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T00:16:00Z",
//       updatedAt: "2025-05-01T01:43:00Z",
//       __v: 0,
//     },
//     {
//       id: "00dd67ee075a4b59861cbd79",
//       date: "2025-05-08T00:18:00Z",
//       amount: 4949,
//       title: "coffee",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T00:23:00Z",
//       updatedAt: "2025-05-08T00:27:00Z",
//       __v: 0,
//     },
//     {
//       id: "71f016d045834706b16cef33",
//       date: "2025-05-09T18:20:00Z",
//       amount: 2058,
//       title: "game subscription",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T18:25:00Z",
//       updatedAt: "2025-05-09T18:30:00Z",
//       __v: 0,
//     },
//     {
//       id: "d86fc802cdfb488b836891f7",
//       date: "2025-05-04T12:05:00Z",
//       amount: 864,
//       title: "groceries",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T12:10:00Z",
//       updatedAt: "2025-05-04T13:34:00Z",
//       __v: 0,
//     },
//     {
//       id: "8e870d60908b4d259a879fe3",
//       date: "2025-05-09T04:43:00Z",
//       amount: 2522,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T04:48:00Z",
//       updatedAt: "2025-05-09T05:10:00Z",
//       __v: 0,
//     },
//     {
//       id: "53c465a053234f8ba20ba15d",
//       date: "2025-05-07T22:41:00Z",
//       amount: 2254,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T22:46:00Z",
//       updatedAt: "2025-05-07T22:48:00Z",
//       __v: 0,
//     },
//     {
//       id: "e9cc52f2d3c9483c9e48c054",
//       date: "2025-05-06T11:07:00Z",
//       amount: 4415,
//       title: "streaming service",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T11:12:00Z",
//       updatedAt: "2025-05-06T11:48:00Z",
//       __v: 0,
//     },
//     {
//       id: "8310e87ccd594cc9b011ca3d",
//       date: "2025-05-10T07:56:00Z",
//       amount: 1302,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T08:01:00Z",
//       updatedAt: "2025-05-10T08:37:00Z",
//       __v: 0,
//     },
//     {
//       id: "245f4f671eef462da7f13809",
//       date: "2025-05-01T17:55:00Z",
//       amount: 4955,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T18:00:00Z",
//       updatedAt: "2025-05-01T18:37:00Z",
//       __v: 0,
//     },
//     {
//       id: "a930731e8a2e438d841da0e5",
//       date: "2025-05-03T14:23:00Z",
//       amount: 4287,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T14:28:00Z",
//       updatedAt: "2025-05-03T16:28:00Z",
//       __v: 0,
//     },
//     {
//       id: "7981e1dd5af444b8af872abc",
//       date: "2025-05-04T17:27:00Z",
//       amount: 1098,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T17:32:00Z",
//       updatedAt: "2025-05-04T19:02:00Z",
//       __v: 0,
//     },
//     {
//       id: "2ca8dfc7f68f4e49a75d9fc8",
//       date: "2025-05-10T13:34:00Z",
//       amount: 921,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T13:39:00Z",
//       updatedAt: "2025-05-10T15:05:00Z",
//       __v: 0,
//     },
//     {
//       id: "5a67da3ac8ac4de38bd25001",
//       date: "2025-05-02T11:22:00Z",
//       amount: 4590,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T11:27:00Z",
//       updatedAt: "2025-05-02T12:40:00Z",
//       __v: 0,
//     },
//     {
//       id: "5ca23930d0634b4dbc692456",
//       date: "2025-05-01T04:57:00Z",
//       amount: 3252,
//       title: "checkup",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T05:02:00Z",
//       updatedAt: "2025-05-01T05:48:00Z",
//       __v: 0,
//     },
//     {
//       id: "e9270e47fa584bc5b0805d79",
//       date: "2025-05-06T23:15:00Z",
//       amount: 1681,
//       title: "streaming service",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T23:20:00Z",
//       updatedAt: "2025-05-07T00:18:00Z",
//       __v: 0,
//     },
//     {
//       id: "320553e615794454a7598e15",
//       date: "2025-05-11T21:29:00Z",
//       amount: 3781,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T21:34:00Z",
//       updatedAt: "2025-05-11T23:04:00Z",
//       __v: 0,
//     },
//     {
//       id: "b5ee75588fee49048a1ff5e0",
//       date: "2025-05-11T23:14:00Z",
//       amount: 3654,
//       title: "restaurant",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T23:19:00Z",
//       updatedAt: "2025-05-12T00:54:00Z",
//       __v: 0,
//     },
//     {
//       id: "1862cc25e2324aa5bd3038b5",
//       date: "2025-05-08T11:50:00Z",
//       amount: 4099,
//       title: "yoga class",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-08T11:55:00Z",
//       updatedAt: "2025-05-08T13:50:00Z",
//       __v: 0,
//     },
//     {
//       id: "31fa9795653349ec891f9d3f",
//       date: "2025-05-03T13:00:00Z",
//       amount: 2204,
//       title: "snacks",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T13:05:00Z",
//       updatedAt: "2025-05-03T13:49:00Z",
//       __v: 0,
//     },
//     {
//       id: "551d8d41e7b14c6bb6f39660",
//       date: "2025-05-06T13:36:00Z",
//       amount: 4781,
//       title: "snacks",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T13:41:00Z",
//       updatedAt: "2025-05-06T15:28:00Z",
//       __v: 0,
//     },
//     {
//       id: "2df1757c8aa741fab8ab293c",
//       date: "2025-05-11T04:26:00Z",
//       amount: 4231,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T04:31:00Z",
//       updatedAt: "2025-05-11T06:13:00Z",
//       __v: 0,
//     },
//     {
//       id: "94e78fc190f14cd2b25eca8d",
//       date: "2025-05-09T12:30:00Z",
//       amount: 1929,
//       title: "game subscription",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T12:35:00Z",
//       updatedAt: "2025-05-09T12:36:00Z",
//       __v: 0,
//     },
//     {
//       id: "052f36236c554f2f9e52b7e6",
//       date: "2025-05-02T06:06:00Z",
//       amount: 506,
//       title: "streaming service",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T06:11:00Z",
//       updatedAt: "2025-05-02T07:03:00Z",
//       __v: 0,
//     },
//     {
//       id: "eedb849199694e92834d5861",
//       date: "2025-05-07T04:38:00Z",
//       amount: 4605,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T04:43:00Z",
//       updatedAt: "2025-05-07T06:05:00Z",
//       __v: 0,
//     },
//     {
//       id: "cadf0fc4350c4c8eb5811c33",
//       date: "2025-05-03T00:18:00Z",
//       amount: 826,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T00:23:00Z",
//       updatedAt: "2025-05-03T01:33:00Z",
//       __v: 0,
//     },
//     {
//       id: "8347a0aa1e4c4a068b9450ff",
//       date: "2025-05-06T12:19:00Z",
//       amount: 2623,
//       title: "coffee",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T12:24:00Z",
//       updatedAt: "2025-05-06T13:28:00Z",
//       __v: 0,
//     },
//     {
//       id: "0bb9d59d65614a3789c17e38",
//       date: "2025-05-10T15:23:00Z",
//       amount: 2302,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T15:28:00Z",
//       updatedAt: "2025-05-10T15:52:00Z",
//       __v: 0,
//     },
//     {
//       id: "c77fdf0cd5284483b7b4a7ac",
//       date: "2025-05-05T15:11:00Z",
//       amount: 260,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T15:16:00Z",
//       updatedAt: "2025-05-05T16:04:00Z",
//       __v: 0,
//     },
//     {
//       id: "1cd21816a7c043c59449175b",
//       date: "2025-05-02T03:52:00Z",
//       amount: 3069,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T03:57:00Z",
//       updatedAt: "2025-05-02T04:26:00Z",
//       __v: 0,
//     },
//     {
//       id: "047fb7bba6884bedbf9e1c62",
//       date: "2025-05-05T07:27:00Z",
//       amount: 4390,
//       title: "transport",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T07:32:00Z",
//       updatedAt: "2025-05-05T07:55:00Z",
//       __v: 0,
//     },
//     {
//       id: "befc1852987540dfa85768ff",
//       date: "2025-05-04T03:15:00Z",
//       amount: 4193,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T03:20:00Z",
//       updatedAt: "2025-05-04T04:06:00Z",
//       __v: 0,
//     },
//     {
//       id: "cf7b0df199e14547adaabf0d",
//       date: "2025-05-06T12:04:00Z",
//       amount: 1266,
//       title: "gift",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T12:09:00Z",
//       updatedAt: "2025-05-06T12:21:00Z",
//       __v: 0,
//     },
//     {
//       id: "77310e3c58c54b8b80634314",
//       date: "2025-05-01T01:30:00Z",
//       amount: 4750,
//       title: "snacks",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T01:35:00Z",
//       updatedAt: "2025-05-01T01:47:00Z",
//       __v: 0,
//     },
//     {
//       id: "e8b372634c0d4c22a8ed0280",
//       date: "2025-05-07T16:24:00Z",
//       amount: 3530,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T16:29:00Z",
//       updatedAt: "2025-05-07T17:47:00Z",
//       __v: 0,
//     },
//     {
//       id: "2c13bfe704d7474aa335f4a3",
//       date: "2025-05-04T20:40:00Z",
//       amount: 1340,
//       title: "coffee",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T20:45:00Z",
//       updatedAt: "2025-05-04T21:25:00Z",
//       __v: 0,
//     },
//     {
//       id: "8ff8ce2a0c6a428fa4f53dd5",
//       date: "2025-05-03T05:01:00Z",
//       amount: 3298,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T05:06:00Z",
//       updatedAt: "2025-05-03T06:32:00Z",
//       __v: 0,
//     },
//     {
//       id: "4eab591d3ef5402f9b440f10",
//       date: "2025-05-02T19:16:00Z",
//       amount: 174,
//       title: "checkup",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T19:21:00Z",
//       updatedAt: "2025-05-02T21:10:00Z",
//       __v: 0,
//     },
//     {
//       id: "75580f5464e54e0a86004b66",
//       date: "2025-05-04T03:03:00Z",
//       amount: 2016,
//       title: "gift",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-04T03:08:00Z",
//       updatedAt: "2025-05-04T03:18:00Z",
//       __v: 0,
//     },
//     {
//       id: "aa84f99d26cf4c29ab2a6729",
//       date: "2025-05-11T06:11:00Z",
//       amount: 3104,
//       title: "yoga class",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T06:16:00Z",
//       updatedAt: "2025-05-11T08:01:00Z",
//       __v: 0,
//     },
//     {
//       id: "f85c1ab5277a47b489204c12",
//       date: "2025-05-10T00:52:00Z",
//       amount: 355,
//       title: "miscellaneous",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T00:57:00Z",
//       updatedAt: "2025-05-10T01:02:00Z",
//       __v: 0,
//     },
//     {
//       id: "f8783d1701d74af5b14b82ff",
//       date: "2025-05-07T14:37:00Z",
//       amount: 2017,
//       title: "groceries",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T14:42:00Z",
//       updatedAt: "2025-05-07T16:15:00Z",
//       __v: 0,
//     },
//     {
//       id: "39170cf3391f4dba8e8e27cc",
//       date: "2025-05-11T02:27:00Z",
//       amount: 4908,
//       title: "gym membership",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T02:32:00Z",
//       updatedAt: "2025-05-11T03:25:00Z",
//       __v: 0,
//     },
//     {
//       id: "b1f428b169eb42ef8b7514dd",
//       date: "2025-05-03T03:24:00Z",
//       amount: 4394,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T03:29:00Z",
//       updatedAt: "2025-05-03T05:27:00Z",
//       __v: 0,
//     },
//     {
//       id: "674b8d9556ad45f19aa3dad3",
//       date: "2025-05-05T20:02:00Z",
//       amount: 2225,
//       title: "checkup",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T20:07:00Z",
//       updatedAt: "2025-05-05T20:08:00Z",
//       __v: 0,
//     },
//     {
//       id: "73ae79b34c3b4d3ea1fa609f",
//       date: "2025-05-05T19:29:00Z",
//       amount: 2198,
//       title: "concert",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T19:34:00Z",
//       updatedAt: "2025-05-05T21:16:00Z",
//       __v: 0,
//     },
//     {
//       id: "39d60ca57e4c4e3e95f3b5a9",
//       date: "2025-05-10T02:40:00Z",
//       amount: 1804,
//       title: "miscellaneous",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T02:45:00Z",
//       updatedAt: "2025-05-10T04:08:00Z",
//       __v: 0,
//     },
//     {
//       id: "b6b3344455204961b02a2270",
//       date: "2025-05-03T22:41:00Z",
//       amount: 268,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T22:46:00Z",
//       updatedAt: "2025-05-03T23:42:00Z",
//       __v: 0,
//     },
//     {
//       id: "34742f31c87c44bb85ec9b8e",
//       date: "2025-05-05T14:01:00Z",
//       amount: 3265,
//       title: "game subscription",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T14:06:00Z",
//       updatedAt: "2025-05-05T15:37:00Z",
//       __v: 0,
//     },
//     {
//       id: "64ec768035fb455aa8ca2c7b",
//       date: "2025-05-11T14:34:00Z",
//       amount: 4726,
//       title: "medicine",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T14:39:00Z",
//       updatedAt: "2025-05-11T14:52:00Z",
//       __v: 0,
//     },
//     {
//       id: "ff3acf4f18c9482787a1b005",
//       date: "2025-05-01T23:15:00Z",
//       amount: 2316,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T23:20:00Z",
//       updatedAt: "2025-05-02T00:49:00Z",
//       __v: 0,
//     },
//     {
//       id: "a29c1b2b8dee487585c62fc5",
//       date: "2025-05-09T00:19:00Z",
//       amount: 1941,
//       title: "movie night",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-09T00:24:00Z",
//       updatedAt: "2025-05-09T00:39:00Z",
//       __v: 0,
//     },
//     {
//       id: "273fe7c451d14ad2ba03113d",
//       date: "2025-05-03T07:49:00Z",
//       amount: 693,
//       title: "donation",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T07:54:00Z",
//       updatedAt: "2025-05-03T07:59:00Z",
//       __v: 0,
//     },
//     {
//       id: "47b8bf56befe4beca4328312",
//       date: "2025-05-07T13:25:00Z",
//       amount: 2785,
//       title: "checkup",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-07T13:30:00Z",
//       updatedAt: "2025-05-07T13:57:00Z",
//       __v: 0,
//     },
//     {
//       id: "54b787a576524aadb0344ccd",
//       date: "2025-05-10T14:07:00Z",
//       amount: 4418,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-10T14:12:00Z",
//       updatedAt: "2025-05-10T15:49:00Z",
//       __v: 0,
//     },
//     {
//       id: "13700ef2d0434c92ba1497b4",
//       date: "2025-05-05T04:04:00Z",
//       amount: 4025,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-05T04:09:00Z",
//       updatedAt: "2025-05-05T05:50:00Z",
//       __v: 0,
//     },
//     {
//       id: "89c97ff6fe054bf980da868e",
//       date: "2025-05-01T18:34:00Z",
//       amount: 4755,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T18:39:00Z",
//       updatedAt: "2025-05-01T19:42:00Z",
//       __v: 0,
//     },
//     {
//       id: "6dd586ab790a4292880145ea",
//       date: "2025-05-02T15:08:00Z",
//       amount: 2064,
//       title: "dinner",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-02T15:13:00Z",
//       updatedAt: "2025-05-02T16:14:00Z",
//       __v: 0,
//     },
//     {
//       id: "e609e96af6d34cd6b0defdff",
//       date: "2025-05-03T06:32:00Z",
//       amount: 3389,
//       title: "transport",
//       category: "others",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-03T06:37:00Z",
//       updatedAt: "2025-05-03T08:26:00Z",
//       __v: 0,
//     },
//     {
//       id: "1f4421c4fccb4a5685467ce4",
//       date: "2025-05-11T19:07:00Z",
//       amount: 1323,
//       title: "breakfast",
//       category: "food",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-11T19:12:00Z",
//       updatedAt: "2025-05-11T20:53:00Z",
//       __v: 0,
//     },
//     {
//       id: "5c5c19f8ebfe4e2f949566d0",
//       date: "2025-05-01T15:23:00Z",
//       amount: 3170,
//       title: "therapy",
//       category: "health",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-01T15:28:00Z",
//       updatedAt: "2025-05-01T17:20:00Z",
//       __v: 0,
//     },
//     {
//       id: "ec23a2584331431a89e40415",
//       date: "2025-05-06T03:26:00Z",
//       amount: 700,
//       title: "game subscription",
//       category: "entertainment",
//       user: "6820c9c00b6cea1ea022206c",
//       transactionType: "expense",
//       note: "",
//       createdAt: "2025-05-06T03:31:00Z",
//       updatedAt: "2025-05-06T05:26:00Z",
//       __v: 0,
//     },
//   ]);

// })()


// global error handler
app.use(globalErrorHandler);

// const url =
//   "https://res.cloudinary.com/dkqsfm61z/image/upload/v1746969581/spendify-user-profile-image/user-6820a35b99b4dc152f8fb6d2-1746969580196.jpeg.jpg";

//   console.log(url.split('upload/')[1].split('.')[0]);


export default app;
